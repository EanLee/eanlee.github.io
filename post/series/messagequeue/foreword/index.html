<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>從零開始土炮 MQ (持續搬移中) - 伊恩的開發狂想</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7903108559996033" crossorigin=anonymous></script><meta name=description content="從零開始土炮 Message Queue 序言"><meta property="og:title" content="從零開始土炮 MQ (持續搬移中)"><meta property="og:description" content="從零開始土炮 Message Queue 序言"><meta property="og:type" content="article"><meta property="og:url" content="https://eanlee.github.io/post/series/messagequeue/foreword/"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-06-14T07:12:18+00:00"><meta property="article:modified_time" content="2022-06-20T05:55:20+00:00"><meta itemprop=name content="從零開始土炮 MQ (持續搬移中)"><meta itemprop=description content="從零開始土炮 Message Queue 序言"><meta itemprop=datePublished content="2022-06-14T07:12:18+00:00"><meta itemprop=dateModified content="2022-06-20T05:55:20+00:00"><meta itemprop=wordCount content="109"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="從零開始土炮 MQ (持續搬移中)"><meta name=twitter:description content="從零開始土炮 Message Queue 序言"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-4HXSCXTZKZ"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4HXSCXTZKZ",{anonymize_ip:!1})}</script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class="logo logo--mixed"><a class=logo__link href=/ title=伊恩的開發狂想 rel=home><div class="logo__item logo__imagebox"><img class=logo__img src=/img/placeholder.png></div><div class="logo__item logo__text"><div class=logo__title>伊恩的開發狂想</div><div class=logo__tagline>在知識大海中漂流的小船，不停追尋屬於自己的秘寶。專注於 .NET、雲端技術、系統架構、開發技巧的道、法、術。</div></div></a></div><div class=divider></div></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>從零開始土炮 MQ (持續搬移中)</h1><div class="post__meta meta"><div class="meta__item-author meta__item"><svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2.0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class=meta__text>伊恩</span></div><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2022-06-14T07:12:18Z>2022-06-14</time>
<time class=meta__text datetime=2022-06-20T05:55:20Z>(Last Modified: 2022-06-20)</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0/ rel=category>系列文章</a></span></div></div></header><div class="post__toc toc"><div class=toc__title>Page content</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#文章目次>文章目次</a><ul><li><a href=#基礎篇>基礎篇</a></li><li><a href=#進階篇>進階篇</a></li></ul></li></ul></nav></div></div><div class="content post__content clearfix"><blockquote><p>將原本參與 <a href=https://ithelp.ithome.com.tw/users/20107551/ironman/2172>第 11 屆 iThome 鐵人賽</a> 的文章，再加以整理與補充。</p></blockquote><p>近幾年參與開發的軟體之中，大量使用到佇列(Queue)的技術與觀念。從同步與非同步存取 Queue；利用 Queue 與 Dispatch 組合，進行備援處理的機制；大量資料的接收與轉發等等。另一方面，微服務與服務解耦的議題，訊息佇列（Message Queue）的使用頻率也逐年提升。</p><p>以傻子的精神，土幹一個 Message Queue，利用這個過程，好好的深入了解 Message Queue 的概念。</p><p>事實上，隨著實作的進行，越會覺得，Message Queue 包含了各方面知識，結合許多基本功與理論，才行誕生出來的成果。</p><ul><li>從基本的<code>演算法</code>、<code>資料結構</code>、<code>同步\非同步處理</code>、<code>Design Pattern</code></li><li>資料傳輸用的協定，如 <code>gRPC</code>、 <code>AMQP</code> 、<code>MQTT</code></li><li>維持系統穩定的 <code>不死性</code>、<code>獨立性</code>、<code>擴充性</code>、<code>監控</code></li><li>分散式系統的 <code>AICD</code>、<code>狀態機</code></li><li>分派任務的 <code>QoS</code></li><li>&mldr;</li></ul><p>相關知識族繁不及備載，因此在土炮過程中，遇到很多沒有深入理解的知識關卡，而上面提到的關鍵字，都是接下來會遇到的難關。如果有理解不正確或更好的作法，也請各位給與指點。</p><p>同時配合內容，使用 .NET Core 進行 Side Project 開發，專案名稱私心取為 <em>Flora Message Queue, FloraMQ</em> 。</p><p>就算目前這個 MQ 不管在實用性或性能上，離真正能應用於商業環境還有一大段距離。但只要持續投入，它一定可以像植物一樣慢慢的成長。</p><p>沒有一個軟體系統，是一開始就可以達到完美設計。而是有了基本功能後，隨著環境的演進，自然的產生不同的需求。隨著克服一個一個的需求，逐漸的進行軟體的迭代，盡可能的朝向完美前進。</p><p>從 Queue 的基本概念作為切入點，隨著需求的不同，持續的改進，從單一的模組，演進為一個函式庫。再從函式庫，成長為分散式的架構的 Message Queue。</p><hr><h2 id=文章目次>文章目次</h2><h3 id=基礎篇>基礎篇</h3><ul><li><a href=https://eanlee.github.io/post/series/messagequeue/host/queue/>佇列 Queue</a><ul><li>說明 Queue、Circle Queue、Priority Queue、Linked List 的差異</li></ul></li><li>佇列的應用<ul><li>生產者與消費者模型 (producer-consumers pattern)</li><li>鎖定機制: Lock、Mutex、Semaphore</li><li>原子性、有序性、可見性</li></ul></li><li>Router 路由器</li><li>分配機制(調度)<ul><li>同質性與異質性分派</li><li>被動式與主動式分派</li><li>優先性分派</li></ul></li><li>持久性</li><li>整合 Router 與 Dispatch 的整合</li></ul><h3 id=進階篇>進階篇</h3><ul><li>通訊與協定<ul><li>Remote Procedure Call, RPC</li><li>Advanced Message Queuing Protocol, AMQP</li><li>Message Queuing Telemetry Transport, MQTT</li></ul></li><li>需求與服務框架規劃<ul><li>監控</li><li>軔性 Resilience</li><li>延伸性 Scale</li></ul></li></ul></div><div><p>文章內容均為個人學習記錄、心得與認知，若任何謬誤或建議，歡迎直接留言討論，一同成長。</p></div><iframe class=LikeCoin src="https://button.like.co/in/embed/wosilee/button?referrer=https%3a%2f%2feanlee.github.io%2fpost%2fseries%2fmessagequeue%2fforeword%2f" height=200 width=100% frameborder=0></iframe></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/post/experiences/unexpected_request/ rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>開發雜談 - API Server 有非預期的請求的原因釐清</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/post/series/messagequeue/host/queue/ rel=next><span class=pager__subtitle>Next&#8201;»</span><p class=pager__title>Queue 的概念</p></a></div></nav><section class=comments><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//eanblog.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2022 伊恩軟體技術學習與分享.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>