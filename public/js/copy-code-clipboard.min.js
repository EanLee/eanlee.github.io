function createCopyButton(e){const t=document.createElement("button");t.className="copy-code-button",t.type="button",t.innerText="Copy",t.addEventListener("click",()=>copyCodeToClipboard(t,e)),e.insertBefore(t,e.firstChild);const n=document.createElement("div");n.className="highlight-wrapper",e.parentNode.insertBefore(n,e),n.appendChild(e)}document.querySelectorAll(".highlight").forEach(e=>createCopyButton(e));async function copyCodeToClipboard(e,t){const n=t.querySelector("pre > code").textContent;try{var s=await navigator.permissions.query({name:"clipboard-write"});s.state=="granted"||s.state=="prompt"?await navigator.clipboard.writeText(n):copyCodeBlockExecCommand(n,t)}catch(e){copyCodeBlockExecCommand(n,t)}finally{e.blur(),e.innerText="Copied!",setTimeout(function(){e.innerText="Copy"},2e3)}}function copyCodeBlockExecCommand(o,t){const e=document.createElement("textArea");e.contentEditable="true",e.readOnly="false",e.className="copyable-text-area",e.value=o,t.insertBefore(e,t.firstChild);const n=document.createRange();n.selectNodeContents(e);const s=window.getSelection();s.removeAllRanges(),s.addRange(n),e.setSelectionRange(0,999999),document.execCommand("copy"),t.removeChild(e)}