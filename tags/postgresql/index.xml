<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Postgresql on 伊恩的開發狂想</title><link>https://eandev.com/tags/postgresql/</link><description>Recent content in Postgresql on 伊恩的開發狂想</description><generator>Hugo -- gohugo.io</generator><language>zh-tw</language><lastBuildDate>Sat, 11 Nov 2023 14:28:57 +0800</lastBuildDate><atom:link href="https://eandev.com/tags/postgresql/index.xml" rel="self" type="application/rss+xml"/><item><title>Docker | 縮網址服務實作記錄 (1) - 基於 Docker 容器技術的網站服務架構實踐</title><link>https://eandev.com/post/series/side-project/shorten-1-build-service-base-on-container/</link><pubDate>Sat, 11 Nov 2023 14:28:57 +0800</pubDate><guid>https://eandev.com/post/series/side-project/shorten-1-build-service-base-on-container/</guid><description>&lt;blockquote>
&lt;p>縮網址服務為 &lt;a href="http://url-ins.com/shorten/">http://url-ins.com/shorten/&lt;/a> ，有任何想法或回饋，可以在 &lt;a href="https://www.surveycake.com/s/wgveX">SurveyCake&lt;/a> 留下寶貴的意見。(為了維持主機的維運，在頁面內放入 Google Adsense 廣告。)&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>🔖 長話短說 🔖&lt;/p>
&lt;p>設定 Ubuntu 允許 SSH 使用密碼登入時，除了 &lt;code>/etc/ssh/sshd_config&lt;/code> 需要調整，也要檢查 Include 其他的 &lt;code>.conf&lt;/code> 是否有覆寫的情況。&lt;/p>
&lt;/blockquote>
&lt;p>使用技術、框架與環境設定如下&lt;/p>
&lt;ul>
&lt;li>網路服務商
&lt;ul>
&lt;li>Domain: &lt;a href="https://tw.godaddy.com/">Godaddy&lt;/a>&lt;/li>
&lt;li>主機平台: &lt;a href="https://m.do.co/c/254e8cbe525a">Digital Ocean&lt;/a>&lt;/li>
&lt;li>版控與 Container Registry: &lt;a href="https://gitlab.com">GitLab&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>使用服務:
&lt;ul>
&lt;li>Nginx 1.25.3&lt;/li>
&lt;li>Postgresql 16&lt;/li>
&lt;li>Grafana 10.2&lt;/li>
&lt;li>Loki 2.9.2&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>使用技術
&lt;ul>
&lt;li>Vue3 / &lt;a href="https://astro.build">Astro&lt;/a> 3.3&lt;/li>
&lt;li>.NET 7&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>使用相關線上工具&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.digitalocean.com/community/tools/nginx?global.app.lang=zhTW">NGINXConfig&lt;/a>: Digital Ocean 提供的 Nginx conf 的產生器，可直接使用介面點選後，自動產生對應的 Nginx config。&lt;/li>
&lt;/ul></description></item><item><title>Docker | 建立 PostgreSQL 的 container 時，同時完成資料庫的初始化</title><link>https://eandev.com/post/container/docker-postgresql-initialization-scripts/</link><pubDate>Tue, 21 Feb 2023 00:13:07 +0800</pubDate><guid>https://eandev.com/post/container/docker-postgresql-initialization-scripts/</guid><description>&lt;p>現在都可以使用 Container 的方式來運行資料庫，那麼。是否有辦法在 Image 建立 Container 的當下，就一併完成資料庫 schema 的設定？&lt;/p>
&lt;p>若是可以，在啟動 PostgreSQL Image 時，就已經完成初始化資料庫的 container ，可以享受一些好處。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>簡化部署流程：在建立 Container 時，自動完成初始化資料庫的過程，可以大幅簡化部署流程。只需要運行一個命令，就可以創建已經包含初始化資料庫的 Container，而不需要再手動初始化資料庫。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>自動化測試：例如在每次測試運行時，都使用相同的的資料庫，確保測試結果一致性和可靠性。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>方便協作：不同的開發人員可以使用相同的初始化資料庫 Continaer，確保在開發和測試過程中，使用相同的資料庫，減少開發和測試之間的差異。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>🔖 長話短說 🔖&lt;/p>
&lt;ul>
&lt;li>若要讓 PostgreSQL container 建立的同時，完成資料庫 schema 初始化。要在在建立 Docker Image 的同時，把 &lt;code>init.sql&lt;/code> 複制到 &lt;code>/docker-entrypoint-initdb.d/&lt;/code>&lt;/li>
&lt;li>&lt;code>docker-entrypoint-initdb.d&lt;/code> 可放入多個 .sql 檔，其執行順序依地區設定的檔名順序。預設為 &lt;code>en_US.utf8&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote></description></item><item><title>EF Core | 使用 dotnet-ef 建立 PostgreSQL 的 DBContext</title><link>https://eandev.com/post/develop/dotnet-ef-postgresql-dbcontext/</link><pubDate>Mon, 13 Feb 2023 12:13:02 +0800</pubDate><guid>https://eandev.com/post/develop/dotnet-ef-postgresql-dbcontext/</guid><description>&lt;p>若是有使用過 Entity Framework, EF 的經驗，必然對 &lt;code>DBContext&lt;/code> 類別有所了解。在 EF 時可以使用 Visual Studo 的 UI 工具，以 Database-First 的方式建立 DBContext。&lt;/p>
&lt;p>本篇文章則是記錄 Database-First 的開發方式下，EF Core 如何使用 CLI 來產生 DBContext。&lt;/p>
&lt;blockquote>
&lt;p>🔖 長話短說 🔖&lt;/p>
&lt;ul>
&lt;li>EF Core 要操作 PostgreSQL 的話，可使用 &lt;code>Npgsql.EntityFrameworkCore.PostgreSQL&lt;/code>&lt;/li>
&lt;li>可使用 &lt;code>dotnet tool update --global dotnet-ef&lt;/code> 進行 &lt;code>dotnet-ef&lt;/code> 版本更新&lt;/li>
&lt;li>可使用 &lt;code>dotnet ef dbcontext scffold&lt;/code> 的指令，協助從資料庫已存在的 Schema 產生對應的 dbcontext。&lt;/li>
&lt;li>若專案內未參考 &lt;code>Microsoft.EntityFrameworkCore.Design&lt;/code> 的話，&lt;code>dotnet ef dbcontext scffold&lt;/code> 無法順利動作。&lt;/li>
&lt;li>機敏性資料，可使用 &lt;code>user-secrets&lt;/code> 工具。&lt;/li>
&lt;/ul>
&lt;/blockquote></description></item></channel></rss>