---
title: 淺談 WAF(Web Application Firewall)
tags:
  - 網路
categories:
  - 資訊安全
keywords:
  - WAF
  - Web Application Firewall
  - 壓力測試
draft: true
date: 2023-01-16T07:47:08.907Z
---



<!--more-->

## 什麼是 WAF

WAF 是 Web Application Firewall (網站應用程式防火牆) 縮寫而來。主要用於保護以上提到的應用程式們。方法是監控要連進網站的 HTTP 傳輸流量，比對病毒、惡意程式資料庫或惡意攻擊手法等，過濾出可疑流量然後把惡意流量拒絕在外，避免用這些漏洞攻擊網站。

網站都希望流量要大，訪客要多。只是訪客一多，難免有閒雜人等想要趁機混入。今天把網站比喻成一棟大樓，WAF 就等於大門警衛的概念，針對每一個進入大樓的訪客進行檢查驗證，只允許好的正常的訪客進入，可疑危險的訪客就拒絕他們進入。

WAF 主要是針對 [OSI 模型]({{< ref "../talking_https_and_ssl/index.md">}}) L7 應用層

## WAF 與 Firewall 的差異

## 常見網站攻擊手段

我們可以看到，最外圍的這一圈就是目前常見的網站攻擊手法，筆者簡單作個說明：

- Encoding（編碼攻擊）：將指令重新編碼，來躲避網站的安全檢查或使網站程式發生錯誤。
- Header Tampering（標頭竄改）：修改請求標頭，以躲過安全機制的檢查。
- Path Traversal（路徑挖掘）：猜測網站路徑，以進入網站根目錄之外的資料夾或檔案。
- SQL Injection（SQL 隱碼注入）：目前最出名也最有殺傷力的攻擊手段之一。利用 SQL 程式指令迴避安全檢查，竊取管理權限，可對整個網站進行毀滅性的破壞。
- Cross site Scripting（跨網站指令碼攻擊）：也可寫作 XSS 攻擊，同樣是目前常見且有力的攻擊手法之一。它的攻擊方式有點類似釣魚網站，可將使用者導向惡意網站或假網站，然後再進行後續攻擊（如騙取密碼或植入木馬等等）。
- Remote Command Execution（執行遠端命令）：基本上就是透過 web 介面使網站程式執行遠端指令，不過這種攻擊多半要搭配網站程式漏洞執行。
- Probes（探針）：你可以把「探針」想像成一種能夠搜索漏洞的小程式。攻擊者通常會把「探針」放在一些已經被入侵的熱門網站上，當你瀏覽這些網站時，探針就會被下載下來，並開始搜索你電腦中的安全漏洞，然後通知攻擊者發動攻擊。
- Known Worms（已知蠕蟲）：這個應該不用多解釋了，就是電腦蠕蟲囉，通常它們不會破壞系統本身，但卻會對網路發動攻擊，像是執行垃圾代碼，讓 Web 程式無法回應（這招就是底下的 Denial of service）；或是大量傳送無意義訊息，吃掉網路頻寬等等。
- Compromised Servers（被盜用的伺服器）：應該可以說是「管理不良的伺服器」吧。舉例來說，有些管理者在架好資料庫和網站之後，沒有修改預設的密碼，因此攻擊者可以輕鬆取得所有權限，這種伺服器就算是 Compromised Servers。
- Spammer Bots（垃圾回應機器人）：這也是目前很常見又很令人頭痛的攻擊之一，不過它比較像是間接傷害就是了。
- Bad User Agents（不良的使用者代理）：User Agents 可以翻成使用者代理，它是指一些行徑惡劣的蜘蛛（Spiders）、機器人（Robots）、爬行者（Crawler）、瀏覽器（Browser）或下載工具等等，它們可能會佔用過量的頻寬或竊取一些不應該公開的資料之類的。
- Denial of Service（阻斷服務攻擊）：雖然字母一樣，但這跟 DOS 沒關係，這種攻擊手法是對主機傳送大量或特殊的網路封包，使主機陷入癱瘓或耗盡資源無法運作。它的「進階版」就是惡名昭彰的「DDoS」—— 分散式阻斷服務攻擊，由多個地方同時發動 DoS 攻擊，因此主機無法利用封鎖網段等方式來防堵。
- Session Hijacking（會話劫持）：這招有點算是冒用別人身份。一般來說，SessionID 會被當成 Cookie 存到用戶端電腦，攻擊者利用這個特性，竊取電腦裡的 SessionID，冒充成使用者進入網站，然後就可以竊取網站中的使用者資料（如信用卡卡號）並進行後續破壞。
- Cookie Tampering（竄改 Cookie）：Cookie 基本上可以看成是網站上的使用者紀錄，通常甚至會包含使用者帳號、密碼等資料，這種手法可以看成是在網路上攔截 Cookie 封包，然後拿這個封包去欺騙伺服器，於是就可以偽裝成受害者，登入網站。
軟硬體版本都有



## 壓力測試與 DDos 攻擊

## 延伸閱讀
